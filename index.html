<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Smart CV Generator</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #e9ecef;
      padding: 20px;
      color: #495057;
    }
    .container {
      max-width: 900px;
      margin: auto;
      background: #fff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    }
    h2 {
      text-align: center;
      margin-bottom: 30px;
      color: #212529;
      font-weight: 700;
    }
    .row {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
    }
    .row input, .row select, .row textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #ced4da;
      border-radius: 8px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-size: 16px;
    }
    .row input:focus, .row select:focus, .row textarea:focus {
      border-color: #007bff;
      box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
      outline: none;
    }
    .section {
      margin-bottom: 30px;
    }
    .add-btn, .fill-btn, .action-btn {
      background-color: #28a745;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 15px;
      margin-top: 10px;
      transition: background-color 0.3s ease;
    }
    .fill-btn {
      background-color: #ffc107;
      margin-left: auto;
      display: block;
    }
    .action-btn {
      background: linear-gradient(45deg, #0066cc, #004d99);
      color: white;
      padding: 15px 25px;
      border: none;
      border-radius: 8px;
      width: 100%;
      box-sizing: border-box;
      font-weight: 500;
      letter-spacing: 1px;
      box-shadow: 0 4px 15px rgba(0, 77, 153, 0.2);
    }
    .action-btn:hover {
      background: linear-gradient(45deg, #004d99, #003b80);
      box-shadow: 0 6px 20px rgba(0, 77, 153, 0.3);
    }
    @media (max-width: 768px) {
      .row {
        flex-direction: column;
      }
      .container {
        padding: 20px;
      }
    }

    /* CV Display Styles */
    #cv-output {
        display: none; /* Initially hidden */
    }

    .cv-box {
      max-width: 850px;
      margin: auto;
      background: #fff;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    }

    .cv-box h2 {
      text-align: center;
      color: #0052a3;
      margin-bottom: 5px;
      text-transform: uppercase;
    }

    .cv-box h3 {
      color: #333;
      padding-bottom: 5px;
      margin-top: 30px;
      margin-bottom: 15px;
    }

    .cv-box .section p {
      margin: 8px 0;
    }

    .cv-box .personal-info p {
      margin: 6px 0;
    }

    .education-entry {
      margin-bottom: 20px;
      padding-left: 5px;
    }

    .responsibility-list {
      margin-top: 5px;
      padding-left: 20px;
    }

    .responsibility-list li {
      margin-bottom: 5px;
    }

    .download-btn, .back-btn {
      margin: 30px 5px 0;
      background: linear-gradient(135deg, #007bff, #0052a3);
      color: #fff;
      border: none;
      padding: 8px 16px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 13px;
      display: inline-block;
      text-align: center;
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      transition: background 0.3s ease;
    }

    .download-btn:hover, .back-btn:hover {
      background: linear-gradient(135deg, #0052a3, #003b80);
    }
    
    .back-btn {
        background: #6c757d;
    }

    .back-btn:hover {
        background: #5a6268;
    }

    .footer {
      text-align: center;
      margin-top: 40px;
      font-size: 13px;
      color: #999;
    }

    /* Print-specific styles for A4 */
    @media print {
      body {
        background-color: #fff;
      }
      .container, .cv-box {
        width: 21cm; /* A4 width */
        height: 29.7cm; /* A4 height */
        margin: 0;
        padding: 2cm; /* Set print margins */
        box-shadow: none;
        border-radius: 0;
      }
      .download-btn, .back-btn {
        display: none !important;
      }
      h2, h3, p, li {
        color: #000;
      }
      /* Ensure everything fits on the page */
      .cv-box {
        box-sizing: border-box;
      }
      .section {
        margin-bottom: 20px;
      }
    }
  </style>
</head>
<body>

  <div id="form-container" class="container">
    <h2>Smart CV Generator</h2>
    <form id="cv-form" onsubmit="event.preventDefault(); generateCV();">
      <div class="row">
        <input type="text" name="first_name" id="first_name" placeholder="First Name" required>
        <input type="text" name="last_name" id="last_name" placeholder="Last Name" required>
      </div>

      <div class="row">
        <input type="text" name="gender" id="gender" placeholder="Gender" required>
        <input type="text" name="status" id="status" placeholder="Marital Status" required>
      </div>

      <div class="row">
        <input type="email" name="email" id="email" placeholder="Email" required>
        <input type="text" name="phone" id="phone" placeholder="Phone Number" required>
      </div>

      <div class="row">
        <input type="text" name="address" id="address" placeholder="Physical Address">
        <input type="text" name="linkedin" id="linkedin" placeholder="LinkedIn (Optional)">
      </div>

      <div class="row">
        <input type="text" name="job_title" id="jobTitle" placeholder="Current Job Title" required>
        <input type="text" name="skills" id="skills" placeholder="Skills (Auto-filled with common skills)" required>
      </div>

      <div class="row">
        <textarea name="summary" id="summary" rows="3" placeholder="Professional Summary (Auto-filled)"></textarea>
      </div>

      <div class="section">
        <label><strong>Education</strong></label>
        <div id="educationFields">
          <div class="row education-entry-fields">
            <input type="text" name="school[]" placeholder="School Name" required>
            <select name="level[]" onchange="autoFillQual(this)">
              <option value="">Select Level</option>
              <option value="Primary">Primary</option>
              <option value="High School">High School</option>
              <option value="College">College</option>
              <option value="University">University</option>
            </select>
          </div>
          <div class="row">
            <input type="text" name="qualification[]" placeholder="Qualification( Auto-filled )" class="qual">
            <input type="text" name="year[]" placeholder="Year Completed">
          </div>
        </div>
        <button type="button" class="add-btn" onclick="addEducation()">+ Add More Education</button>
      </div>

      <div class="section">
        <label><strong>Work Experience</strong></label>
        <div id="experienceFields">
          <div class="row experience-entry-fields">
            <input type="text" name="company[]" placeholder="Company/Place Worked">
            <input type="text" name="position[]" placeholder="Position/Role" class="position-input">
          </div>
          <div class="row">
            <textarea name="responsibilities[]" placeholder="Main Responsibilities (one per line). For positions not listed, enter manually." class="responsibility-field" rows="3"></textarea>
            <input type="text" name="exp_year[]" placeholder="Year Completed " required>
          </div>
          <button type="button" class="fill-btn" onclick="autoFillResponsibility(this)">Auto-fill Responsibilities</button>
        </div>
        <button type="button" class="add-btn" onclick="addExperience()">+ Add More Experience</button>
      </div>

      <div class="section">
        <label><strong>Referees</strong></label>
        <div id="refereeFields">
          <div class="row referee-entry-fields">
            <input type="text" name="referee_name[]" placeholder="Referee Name">
            <input type="text" name="referee_contact[]" placeholder="Referee Contact">
          </div>
        </div>
        <button type="button" class="add-btn" onclick="addReferee()">+ Add More Referees</button>
      </div>

      <button type="submit" class="action-btn">Generate CV</button>
    </form>
  </div>

  <div id="cv-output" class="cv-box">
    <h2 id="cv-name"></h2>

    <div class="section personal-info">
      <p><strong>Email:</strong> <span id="cv-email"></span></p>
      <p><strong>Phone:</strong> <span id="cv-phone"></span></p>
      <p><strong>Address:</strong> <span id="cv-address"></span></p>
      <p><strong>Gender: </strong> <span id="cv-gender"></span></p>
      <p><strong>Marital Status: </strong><span id="cv-status"></span></p>
      <p id="cv-linkedin-p"><strong>LinkedIn:</strong> <span id="cv-linkedin"></span></p>
    </div>

    <div class="section">
      <h3>Professional Summary</h3>
      <p id="cv-summary"></p>
    </div>

    <div class="section">
      <h3>Skills</h3>
      <p id="cv-skills"></p>
    </div>

    <div class="section">
      <h3>Education</h3>
      <div id="cv-education"></div>
    </div>

    <div class="section">
      <h3>Work Experience</h3>
      <div id="cv-experience"></div>
    </div>

    <div class="section">
      <h3>Referees</h3>
      <div id="cv-referees"></div>
    </div>

    <div style="text-align: center;">
      <button class="back-btn" onclick="showForm()">‚Üê Back to Form</button>
      <button class="download-btn" onclick="window.print()">üìÑ Download as PDF</button>
    </div>

    <div class="footer">
      ¬© OrlantechInnovations. All rights Reserved.
    </div>
  </div>


  <script>
    // Autofill skills on page load
    window.onload = function() {
        const skillsField = document.getElementById("skills");
        if (skillsField.value.trim() === "") {
            skillsField.value = "Teamwork, Communication, Problem-solving, Time management, Adaptability, Basic computer skills";
        }
    };

    // Autofill summary
    document.getElementById("jobTitle").addEventListener("blur", function () {
      const title = this.value.toLowerCase();
      const summary = document.getElementById("summary");
      if (summary.value.trim() === "") {
        if (title.includes("cleaner")) {
          summary.value = "A hardworking and dependable cleaner with experience in maintaining hygienic environments and delivering quality service.";
        } else if (title.includes("teacher")) {
          summary.value = "An experienced and dedicated teacher committed to inspiring students and delivering impactful education.";
        } else if (title.includes("manager")) {
          summary.value = "A highly organized and results-driven manager with a proven track record of leading teams and optimizing operations.";
        } else if (title.includes("accountant")) {
          summary.value = "A detail-oriented accountant with expertise in financial reporting, budget management, and compliance.";
        } else if (title.includes("software developer")) {
          summary.value = "A skilled software developer with a passion for creating innovative and efficient applications.";
        } else {
          summary.value = `A dedicated and skilled ${this.value} with a proven ability to contribute effectively in fast-paced environments.`;
        }
      }
    });

    // Autofill qualification based on level
    function autoFillQual(select) {
      const value = select.value;
      const qualInput = select.closest('.row').nextElementSibling.querySelector('.qual');
      if (value === "Primary") {
        qualInput.value = "Kenya Certificate of Primary Education";
      } else if (value === "High School") {
        qualInput.value = "Attained Kenya Certificate of Secondary Education";
      } else if (value === "College") {
        qualInput.value = "Attained Diploma Certificate";
      } else if (value === "University") {
        qualInput.value = "Attained A Bachelors Degree";
      } else {
        qualInput.value = "";
      }
    }

    // Add education
    function addEducation() {
      const container = document.getElementById("educationFields");
      container.insertAdjacentHTML('beforeend', `
        <div class="row education-entry-fields">
          <input type="text" name="school[]" placeholder="School Name" required>
          <select name="level[]" onchange="autoFillQual(this)">
            <option value="">Select Level</option>
            <option value="Primary">Primary</option>
            <option value="High School">High School</option>
            <option value="College">College</option>
            <option value="University">University</option>
          </select>
        </div>
        <div class="row">
          <input type="text" name="qualification[]" placeholder="Qualification" class="qual">
          <input type="text" name="year[]" placeholder="Year Completed">
        </div>
      `);
    }

    // Add experience
    function addExperience() {
      const container = document.getElementById("experienceFields");
      container.insertAdjacentHTML('beforeend', `
        <div class="row experience-entry-fields">
          <input type="text" name="company[]" placeholder="Company/Place Worked">
          <input type="text" name="position[]" placeholder="Position/Role" class="position-input">
        </div>
        <div class="row">
          <textarea name="responsibilities[]" placeholder="Main Responsibilities (one per line)" class="responsibility-field" rows="3"></textarea>
          <input type="text" name="exp_year[]" placeholder="Year Completed">
        </div>
        <button type="button" class="fill-btn" onclick="autoFillResponsibility(this)">Auto-fill Responsibilities</button>
      `);
    }

    // Add referee
    function addReferee() {
      const container = document.getElementById("refereeFields");
      container.insertAdjacentHTML('beforeend', `
        <div class="row referee-entry-fields">
          <input type="text" name="referee_name[]" placeholder="Referee Name">
          <input type="text" name="referee_contact[]" placeholder="Referee Contact">
        </div>
      `);
    }

    // Auto-fill responsibilities based on position
    function autoFillResponsibility(btn) {
      const section = btn.previousElementSibling.previousElementSibling;
      const position = section.querySelector('.position-input').value.toLowerCase();
      const respField = section.nextElementSibling.querySelector('.responsibility-field');

      let responsibilities = '';
      if (position.includes("cleaner")) {
        responsibilities = "‚Ä¢ Sweeping and mopping floors\n‚Ä¢ Disposing trash daily\n‚Ä¢ Sanitizing surfaces\n‚Ä¢ Restocking cleaning supplies";
      } else if (position.includes("waiter")) {
        responsibilities = "‚Ä¢ Taking customer orders\n‚Ä¢ Serving food and drinks\n‚Ä¢ Cleaning tables and dining surfaces\n‚Ä¢ Handling payments";
      } else if (position.includes("receptionist")) {
        responsibilities = "‚Ä¢ Receiving guests\n‚Ä¢ Answering phone calls\n‚Ä¢ Scheduling appointments\n‚Ä¢ Managing front desk operations";
      } else if (position.includes("shop") || position.includes("attendant")) {
        responsibilities = "‚Ä¢ Assisting customers \n‚Ä¢ Managing stock levels\n‚Ä¢ Handling cash and Mpesa transactions\n‚Ä¢ Keeping the shop clean and tidy at all times";
      } else if (position.includes("manager")) {
        responsibilities = "‚Ä¢ Leading and supervising a team\n‚Ä¢ Developing and implementing operational strategies\n‚Ä¢ Managing budgets and resources\n‚Ä¢ Analyzing data to improve efficiency";
      } else if (position.includes("accountant")) {
        responsibilities = "‚Ä¢ Preparing financial statements and reports\n‚Ä¢ Managing accounts payable and receivable\n‚Ä¢ Conducting audits and ensuring compliance\n‚Ä¢ Handling payroll and tax returns";
      } else if (position.includes("software developer")) {
        responsibilities = "‚Ä¢ Writing and testing code\n‚Ä¢ Developing and maintaining software applications\n‚Ä¢ Collaborating with cross-functional teams\n‚Ä¢ Debugging and troubleshooting issues";
      } else if (position.includes("marketing officer")) {
        responsibilities = "‚Ä¢ Developing and executing marketing campaigns\n‚Ä¢ Managing social media platforms\n‚Ä¢ Conducting market research\n‚Ä¢ Analyzing campaign performance and ROI";
      } else if (position.includes("data entry clerk")) {
        responsibilities = "‚Ä¢ Entering data into databases accurately and efficiently\n‚Ä¢ Verifying and correcting data errors\n‚Ä¢ Maintaining data confidentiality and security\n‚Ä¢ Generating basic reports from data";
      } else if (position.includes("human resources officer")) {
        responsibilities = "‚Ä¢ Managing employee records and personnel files\n‚Ä¢ Assisting with recruitment and onboarding processes\n‚Ä¢ Handling employee inquiries and grievances\n‚Ä¢ Ensuring compliance with labor laws and regulations";
      } else if (position.includes("customer service representative")) {
        responsibilities = "‚Ä¢ Responding to customer inquiries via phone, email, or chat\n‚Ä¢ Resolving customer complaints and issues promptly\n‚Ä¢ Providing product or service information\n‚Ä¢ Maintaining a high level of customer satisfaction";
      } else if (position.includes("bank teller")) {
        responsibilities = "‚Ä¢ Processing customer transactions accurately\n‚Ä¢ Verifying customer identities and account information\n‚Ä¢ Reconciling cash drawers at the end of the day\n‚Ä¢ Promoting bank products and services to customers";
      } else if (position.includes("chef")) {
        responsibilities = "‚Ä¢ Preparing and cooking food according to recipes\n‚Ä¢ Managing kitchen inventory and ordering supplies\n‚Ä¢ Ensuring compliance with food safety and hygiene standards\n‚Ä¢ Creating new menu items and culinary concepts";
      } else if (position.includes("driver")) {
        responsibilities = "‚Ä¢ Transporting goods or people safely and on time\n‚Ä¢ Maintaining vehicle cleanliness and basic maintenance\n‚Ä¢ Adhering to all traffic laws and regulations\n‚Ä¢ Recording trip details and mileage accurately";
      } else if (position.includes("security guard")) {
        responsibilities = "‚Ä¢ Patrolling premises to prevent unauthorized access\n‚Ä¢ Monitoring surveillance equipment\n‚Ä¢ Responding to alarms and emergency situations\n‚Ä¢ Writing daily reports on activities and incidents";
      } else if (position.includes("research assistant")) {
        responsibilities = "‚Ä¢ Collecting and analyzing data for research projects\n‚Ä¢ Conducting literature reviews and summarizing findings\n‚Ä¢ Assisting in the preparation of reports and presentations\n‚Ä¢ Organizing and maintaining research files and databases";
      } else if (position.includes("librarian")) {
        responsibilities = "‚Ä¢ Managing library resources and collections\n‚Ä¢ Assisting patrons with research and information needs\n‚Ä¢ Organizing and cataloging new materials\n‚Ä¢ Planning and hosting community programs or events";
      } else if (position.includes("journalist")) {
        responsibilities = "‚Ä¢ Researching and writing news stories and articles\n‚Ä¢ Conducting interviews with sources\n‚Ä¢ Verifying the accuracy of information\n‚Ä¢ Meeting strict deadlines for publications";
      } else if (position.includes("social worker")) {
        responsibilities = "‚Ä¢ Providing counseling and support to individuals and families\n‚Ä¢ Developing and implementing treatment plans\n‚Ä¢ Connecting clients with community resources\n‚Ä¢ Maintaining case files and documentation";
      } else {
        responsibilities = "‚Ä¢ [Describe your key responsibilities here]";
      }

      respField.value = responsibilities;
    }


    // New functions to handle form submission and CV generation
    function generateCV() {
      // Get all form data
      const first_name = document.getElementById('first_name').value;
      const last_name = document.getElementById('last_name').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const gender=document.getElementById('gender').value;
      const status=document.getElementById('status').value;
      const address = document.getElementById('address').value;
      const linkedin = document.getElementById('linkedin').value;
      const skills = document.getElementById('skills').value;
      const summary = document.getElementById('summary').value;

      // Update personal info section with uppercase names
      document.getElementById('cv-name').textContent = `${first_name.toUpperCase()} ${last_name.toUpperCase()}`;
      document.getElementById('cv-email').textContent = email;
      document.getElementById('cv-phone').textContent = phone;
      document.getElementById('cv-gender').textContent = gender.charAt(0).toUpperCase() + gender.slice(1).toLowerCase();
      document.getElementById('cv-status').textContent = status.charAt(0).toUpperCase() + status.slice(1).toLowerCase();
      document.getElementById('cv-address').textContent = address;


      const linkedin_el = document.getElementById('cv-linkedin-p');
      if (linkedin) {
          document.getElementById('cv-linkedin').textContent = linkedin;
          linkedin_el.style.display = 'block';
      } else {
          linkedin_el.style.display = 'none';
      }

      document.getElementById('cv-summary').textContent = summary;
      document.getElementById('cv-skills').textContent = skills;

      // Update Education Section
      const educationContainer = document.getElementById('cv-education');
      educationContainer.innerHTML = ''; // Clear previous content
      const schoolInputs = document.querySelectorAll('input[name="school[]"]');
      schoolInputs.forEach((input, index) => {
          const level = document.querySelectorAll('select[name="level[]"]')[index].value;
          const qualification = document.querySelectorAll('input[name="qualification[]"]')[index].value;
          const year = document.querySelectorAll('input[name="year[]"]')[index].value;

          if (input.value) {
              educationContainer.insertAdjacentHTML('beforeend', `
                <div style="margin-bottom: 20px;">
                  <p><strong>${input.value} ‚Äì ${level}</strong></p>
                  <p><strong>Year Completed:</strong> ${year}</p>
                  <p><strong>Qualification:</strong> ${qualification}</p>
                </div>
              `);
          }
      });

      // Update Experience Section
      const experienceContainer = document.getElementById('cv-experience');
      experienceContainer.innerHTML = '';
      const companyInputs = document.querySelectorAll('input[name="company[]"]');
      companyInputs.forEach((input, index) => {
          const position = document.querySelectorAll('input[name="position[]"]')[index].value;
          const responsibilities = document.querySelectorAll('textarea[name="responsibilities[]"]')[index].value;
          const exp_year = document.querySelectorAll('input[name="exp_year[]"]')[index].value;

          if (input.value) {
              const responsibilitiesList = responsibilities.split('\n').map(line => `<li>${line.trim()}</li>`).join('');
              experienceContainer.insertAdjacentHTML('beforeend', `
                <p><strong>${position}</strong> ‚Äì ${input.value} (${exp_year})</p>
                <ul class="responsibility-list">
                  ${responsibilitiesList}
                </ul>
              `);
          }
      });

      // Update Referees Section
      const refereeContainer = document.getElementById('cv-referees');
      refereeContainer.innerHTML = '';
      const refereeNames = document.querySelectorAll('input[name="referee_name[]"]');
      refereeNames.forEach((input, index) => {
          const contact = document.querySelectorAll('input[name="referee_contact[]"]')[index].value;
          if (input.value) {
              refereeContainer.insertAdjacentHTML('beforeend', `
                <p><strong>${input.value}</strong> ‚Äî ${contact}</p>
              `);
          }
      });

      // Show the CV and hide the form
      document.getElementById('form-container').style.display = 'none';
      document.getElementById('cv-output').style.display = 'block';
    }

    function showForm() {
      document.getElementById('form-container').style.display = 'block';
      document.getElementById('cv-output').style.display = 'none';
    }

  </script>
</body>
</html>
